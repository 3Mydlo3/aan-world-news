{{ define "main" -}}

<div class="post gray-background">
  <div class="container container--wide container--white">
    <div class="post__container grid">

      <aside class="post__aside">
        {{ if .Params.asideText }}
          <figure>
            <img src="{{ .Params.asidePhoto }}" alt="{{ .Params.asideText }}" />
            <figcaption>
              <p>{{ .Params.asideText }}</p>
            </figcaption>
          </figure>
        {{ end }}
      </aside>

      <article class="content" itemscope itemtype="https://schema.org/NewsArticle">

        <meta itemscope itemprop="mainEntityOfPage" itemtype="https://schema.org/WebPage" />
        <meta itemprop="wordCount" content="{{ .WordCount }}" />
        <meta itemprop="datePublished" content="{{ .PublishDate }}" />
        <meta itemprop="dateModified" content="{{ .Params.lastmod }}" />

        {{ if isset .Params "thumbnail" }}
          <meta itemprop="image" content="{{ .Params.thumbnail }}" />
        {{ end }}

        <header class="post__header padding">

          {{ if isset .Params "title" }}
            <h1 itemprop="headline">{{ .Title }}</h1>
          {{ end }}

          {{ if isset .Params "author" }}
            <span class="post__author h4" itemprop="author" itemscope itemtype="https://schema.org/Person">
              by <a href="{{ .Params.profileURL }}"><span itemprop="name">{{ .Params.author }}</span></a>
            </span>
          {{ end }}

          {{ if isset .Params "PublishDate" }}
            <time class="h4" datetime="{{ .PublishDate.Format "2006-01-02" }}">
              {{ .PublishDate.Format "2006-01-02 400 EDT" }}
            </time>
          {{ end }}

        </header>

        {{ if isset .Params "description" }}
          <p class="post__description h4 padding" itemprop="description">{{ .Params.description }}</p>
        {{ end }}

        <div itemprop="articleBody">
          {{ .Content }}
        </div>

        {{ range .Params.profiles }}
          {{ with $.Site.GetPage "taxonomyTerm" (printf "profiles/%s" (urlize .)) }}
            <footer class="post__footer grid" itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
              <meta itemprop="name" content="{{ .Site.Title }}" />
              <div class="visually-hide" itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
                <img src="{{ .Site.Params.logo }}" alt="AAN World News logo." />
                <meta itemprop="url" content="{{ .Site.Params.logo }}" />
                <meta itemprop="width" content="386" />
                <meta itemprop="height" content="104" />
              </div>
              <img src="{{ .Params.photo }}" alt="Portrait of {{ .Params.name }}" />
              <p>{{ .Params.bio }}</p>
            </footer>
          {{ end }}
        {{ end }}

      </article>

    </div>
  </div>
</div>

<!-- {{ partial "pagination/post-pagination.html" . }} -->

{{- end }}
