{{ define "main" }}

<article class="profile gray-background" itemscope itemtype="https://schema.org/Person">
  <div class="container container--wide container--white">
    <div class="container container--small">

      {{ if or .Params.name .Params.title }}
        <header class="profile__header">

          {{ if .Params.name }}
            <h1 itemprop="name">
              {{ .Params.name }}
            </h1>
          {{ end }}

          {{ if .Params.title }}
            <span class="h4" itemprop="jobTitle">
              {{ .Params.title }}
            </span>
          {{ end }}

        </header>
      {{ end }}

      {{ if .Params.bio }}
        <p itemprop="description">{{ .Params.bio }}</p>
      {{ end }}

      <hr />

      <section class="profile__articles">

        {{ if .Params.name }}
          <header>
            <h2>Articles by {{ .Params.name }}</h2>
          </header>
        {{ end }}

        {{ range .Data.Pages }}
          <article class="article-card" itemscope itemtype="https://schema.org/NewsArticle">

            <meta itemprop="wordCount" content="{{ .WordCount }}" />
            <meta itemprop="image" content="{{ .Params.thumbnail }}" />
            <meta itemprop="author" content="{{ .Params.author }}" />
            <meta itemprop="datePublished" content="{{ .PublishDate }}" />
            <meta itemprop="dateModified" content="{{ .Params.lastmod }}" />

            <header>
              <h3 itemprop="headline">
                <a href="{{ .Permalink }}">
                  {{ .Title }}
                </a>
              </h3>

              <time class="h4" datetime="{{ .PublishDate.Format "2006-01-02" }}">
                {{ .PublishDate.Format "2006-01-02 400 EDT" }}
              </time>

            </header>

            {{ partial "seo/publisher-hidden.html" . }}

          </article>
        {{ end }}

      </section>

    </div>
  </div>
</article>

{{ end }}
